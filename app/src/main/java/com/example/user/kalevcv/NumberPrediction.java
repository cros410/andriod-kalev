package com.example.user.kalevcv;

public class NumberPrediction {

    public static int predict(float[] atts) {
        if (atts.length != 36) {
            return -1;
        }

        double[][] coefs = {{-0.23349947384263145, 1.4468736941953904, 2.5550471483177195, 0.96781484108574711, -1.3836844615330761, -0.92694583096754046, -1.6335558315691856, -2.1230726769536572, -1.5699559224528228, 1.2508324965715718, -3.5519545442540701, -2.8865043132344463, -2.8143269713821697, -1.4318796288529336, 0.48985769129723583, 1.8853742707544789, 3.0633180162941884, 1.0943806151950324, 0.92099147881467647, -0.8876388084406821, -2.1021564856894548, -0.66679983187220826, -1.3895452606175673, -1.1470042715461011, 0.94761828071425147, 1.6340950921851403, 0.22909570700563869, -0.24495714917168226, 1.7400984180001244, 3.7149771700640328, 3.4131830195937769, 1.5447270042440697, -2.7215861935679446, -4.5746994556611646, -3.1827691181722626, -2.5900899210445729}, {0.9309831862404947, 0.34828531144948799, 0.49987266905872113, -0.18508302889316325, -0.97662622901237472, -2.5374678704074656, -0.081544788010727995, 0.28612769823258383, 0.1819735813975277, 2.5275995351458178, 1.5148752557768903, 1.59415815018381, -3.1934471412762142, -3.7158789930854885, -4.569650929884598, -0.35784546381923937, 1.7532101060177496, 1.763809577457661, 1.7370514377532114, 1.9389600543740084, 1.8819339547948744, -1.6754851882422725, -1.0469926108064236, -5.2975327816863835, -2.1502414221945028, 0.71213502780309756, 1.2194183696740888, 0.68701438584164032, 0.031599917445437657, 0.037945203961430557, -2.5306967570743018, 0.31570719090848021, -2.0001122126264943, -0.47487425298151525, 1.4267371653216185, -0.17781702806238564}, {-0.63818706331084418, -1.5264522423160518, -0.49613987720448011, 0.096022528006619465, -0.076752407615255883, -0.19451834777319596, -0.87122584457499008, -0.67560156589463372, -1.0866622937054828, 0.93279960564304232, 0.21939588097615423, -1.3040278024381884, -0.31292896546799115, -1.4299956839436425, -1.9336811554625144, 0.52466540828534325, 2.3366948143970929, 0.6731891236893679, -0.39970751718845332, 0.65884590541083499, 2.4252747213450978, 2.833547086730015, -0.62567453671638329, -1.1352590667824951, -0.4022061370910574, -0.6120835677343418, -1.062468084894036, -2.2789068126571981, -0.89877543185330222, -1.0402654178170494, 0.52095150998320416, 2.5610281112240845, 2.6662973818842071, 1.0538276935614472, -0.53557587769070814, -2.3341922762679053}, {-0.72263171699990214, -1.5354752687867053, -0.045454833877042564, 2.0919452809985972, 1.6476010479189744, 0.87231403142716757, 0.26921201406351802, -0.72034450794087324, -0.68146344890715815, -0.33235718785428936, 0.92856658216948584, 1.5570790313869298, -2.4062907794789896, -1.3622806580771547, -0.14231988934061354, 0.2926698919599573, -0.68572252008645296, 0.57857555027059682, -0.61732367388564491, -3.6089072919170793, -0.98262420651510607, 1.6234681284036956, 2.1785263878705341, 1.7769741132708008, 1.4422569734333734, 1.1724877199833592, 1.0649807743572741, -1.293491022869901, 0.43022764512608758, 1.064131925968018, 0.66231338144247565, -2.3832588812031457, -1.2150727589783721, 0.47482900104646819, 1.2192079770643309, -0.53044544072010924}, {0.59363397131789997, 0.69467690207915922, 0.84245754291299124, -1.4838530480627992, 0.0435038225538334, 0.81406467270822602, 1.2517257143005545, 2.1682833601033011, 2.4010207271527566, 2.4466446785257987, 2.6801471661327478, 1.5903521791249289, -0.76222074494772385, -1.9717368292302162, -2.3402632841685613, -4.715640600551402, -0.76228439060380881, 1.7863047360154489, -1.9105981835343506, -1.6679695892205282, -1.0526627520383511, 1.5847395866388914, 1.7068222648047684, 2.3686114035207777, -0.035732688800202528, -0.3060792156352754, -1.0512526556679556, -0.13852718243085149, 0.18466540928172551, -0.17993621391923423, 0.34517172140983265, 0.86480639196713716, -0.85010800299324207, -2.0863565000133586, -0.63561831425753734, 0.44824489772804732}, {0.58263783770905242, 0.69673935044686308, -0.14275219706627754, -1.1245605462985786, -1.3270181618597083, -0.24250006755387571, -0.26508389632133667, 0.37248685695133704, 0.69152135954172944, -4.0142511012033948, -1.7216970556045796, -0.62742365204488815, 3.5056530910553496, 3.4257122589701012, 1.8959636224800565, 0.99583547666583927, -0.99637738650756702, -3.2206226893942071, -1.0021334571309122, -2.2612517579234126, -0.094635535735275431, 1.3649777527459186, 1.5287159839882214, 1.954749430043722, 0.81713656552694736, -1.01462711158098, -1.3228742255505928, -0.9286874313457012, -0.82792256299798694, -0.85649284608661491, -3.1213923822556202, -2.5877167934417953, -1.615617863912536, 0.68410413577014095, 0.46020939351759776, -0.59514598695854959}, {2.9819526858165721, 3.1606786744499464, 1.9433061281467532, -2.5015063453036062, -3.0822322414597325, -3.6221566997800112, -1.701664692599459, -1.2277308844126329, 1.4054034795506938, -2.0019743846847082, 0.36978326130175737, 1.9850161913673936, 0.43192981492095239, 0.8069057833434341, 1.3753076874899157, -0.61748740170657945, -2.5048969286198384, -2.4916044401086395, 0.81791222200793434, -0.99695949588060762, -2.374378901889632, -2.4457488476667404, -1.1020204533578639, -1.4225568992406976, 1.3339224087524371, 2.0342876651705435, 1.5088430665467942, -2.0835706219491712, -1.3047641175040137, 0.61459649712791353, 2.2509565483520348, 2.5808584035471505, 1.1186262181667317, -1.6378812043712134, -0.99673376016303994, -0.79937148091842858}, {-1.6393812616139587, -0.70922624513906307, -0.11378347031308346, 0.85011701702414699, 2.3464846156545751, 2.4311931871450421, 0.48135295099941688, -1.4107145042107014, -1.4166440627056232, -0.0016589934999551624, -0.54190427619251458, -1.6792510253620774, -0.21742095853147145, 1.3981342287719536, 1.1255592406149642, -1.0651203924501391, -0.43595246838870849, 0.032576366107297423, 0.42038777871596733, 0.50046002679227786, 0.17254696452017612, -2.139550561706641, -0.64638617705044599, -2.6738811354473815, -3.4431602565475297, -0.64155961951944729, 0.67614708026584891, 1.6945536178915195, 1.640271349401333, 1.3088796756415717, -1.7399813704939431, 0.17829251941614635, -0.81641317167817395, -2.003580974679311, -0.55127935499046954, 1.4884663034981358}, {-0.37991198842567947, -1.4093709929360407, -0.86411867711570356, 0.55534406365090283, -2.2968830538167402, -1.2461355685720767, 2.1280243649441091, 2.32236291125469, 1.2260625332809953, -1.2156829738401846, 0.052549548217846347, 1.2111833844331257, 0.47830043772931907, -0.037809601188908727, 0.87918106051256562, 0.90762546997724769, -1.212385902631826, -1.8872415264087257, 0.6442383547301086, 1.9019053392638661, 1.090232383948271, -0.6088752095840988, -1.1369003808778846, -0.84141216577152356, 0.77843388533214619, 0.19281529050143004, 0.37663186024729256, 0.60952937546683983, -1.1961679186552323, 0.00017948232936329357, 1.3470821279786309, -0.19436753081130675, -0.84724914675669627, 0.74121267626023424, 1.3296544699728128, 1.2271546546137719}, {-0.37906024188256521, -0.02806957022572882, 1.1805799228801714, 1.2006232783425317, -1.4898824186730735, -1.1356214477869853, -0.33768980473142812, -0.20275239050723889, -0.055456624854203038, -0.97354815021146013, -1.4851635152368328, -0.15843888483724247, -0.74272326375233588, -0.42740625460715148, 0.23964542864867946, 1.0956526215594795, 0.15211759759088853, 0.13361026408480964, -0.60680978223050519, 0.66140895580490433, 0.88338896510949527, 1.6957767175365128, 1.1269991691894661, 2.3714718522232472, 1.5785620441085557, 1.0498287024564472, -0.18472218519519154, 2.1226963263686192, 1.8959104020070949, -0.13601557693009933, -3.8153937894529872, -0.40130820134376655, -1.2390840000080257, -2.0197705772960504, -0.18567576077986334, 1.6795314935401959}};
        double[] inters = {-2.9015138004966623, -2.6829107825687011, -0.29465393384443878, -1.5716814419661789, -2.0490353148108782, -0.75763758123327052, -2.6465743206294463, -1.3848016558426148, -0.82641735241191672, -2.1657929596733942};

        int class_idx = -1;
        double class_val = Double.NEGATIVE_INFINITY;
        for (int i = 0; i < 10; i++) {
            double prob = 0.;
            for (int j = 0; j < 36; j++) {
                prob += coefs[i][j] * atts[j];
            }
            if (prob + inters[i] > class_val) {
                class_val = prob + inters[i];
                class_idx = i;
            }
        }
        return class_idx;
    }

    public int getNumber(float[] hog) {
        int numero = -1;
        if (hog.length == 36) {
            numero = NumberPrediction.predict(hog);
        }
        return numero;
    }

}
